<!Doctype html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<title>表单录入控件H</title>
	<meta content="NOODP" name="ROBOTS" />
	<meta name="keywords" content="help,Document">
	<meta name="description" content="...">

	<!-- Bootstrap4 CSS -->
	<link rel="stylesheet" href="../static/bootstrap4/css/bootstrap.css">
	<link rel="stylesheet" href="../static/css/public.css">
	<link rel="stylesheet" href="../static/css/style.css">
	<!-- jQuery bootstrap.min.js -->
	<script src="../static/js/jquery.min.js"></script>

	<!-- bootstrap.bundle.min.js popper.min.js -->
	<script src="../static/js/popper.min.js"></script>

	<!-- Bootstrap4 JavaScript -->
	<script src="../static/bootstrap4/js/bootstrap.min.js"></script>
	
	<style>
	del{
		display:none;
	}
	</style>

</head>

<body>

	<body>
		<header id="header">
			<div class="list01-title bg-info">
				<div class="btn-group">
					<a class="btn btn-warning text-muted" href="https://workflow.net.cn" target="_blank"><i
							class="glyphicon glyphicon-home"></i></a>
				</div>
				<h2 class="text-center">表单录入控件</h2>
			</div>
		</header>

		<div id="slider" style="display:none;">
			<div class="slider_mask">
				<h1 class="mask-title d-none d-md-block">WORKFLOW-试用说明</h1>
			</div>
		</div>


		<!-- -->

		<div class="container-fluid help p-r">
			<div class="row">
				<div class="col col-12 col-md-2" style="top:150px;width:250px;">
					<div class="" id="help-nav" style="top:150px;width:250px;">
						<ul class="list-group">
							<li class="list-group-item"><a href="#c">概述</a></li>
							<li class="list-group-item"><a href="#c0">常用术语</a></li>
							<li class="list-group-item"><a href="#c1">单行输入控件</a></li>
							<!-- text,validatebox,password,maskedbox,numberbox,numberspinner -->
							<li class="list-group-item"><a href="#c2">多行输入控件</a></li>
							<!-- textarea,wang,md -->
							<li class="list-group-item"><a href="#c3">选择控件</a></li>
							<!-- combobox,combotree,switchbutton,checkbox -->
							<li class="list-group-item"><a href="#c4">日期时间控件</a></li>
							<!-- datebox,datetimebox -->
							<li class="list-group-item"><a href="#c5">附件上传控件</a></li>
							<!-- filebox -->
							<li class="list-group-item"><a href="#c6">数据网格控件</a></li>
							<!-- datagrid -->
							<li class="list-group-item"><a href="#c7">其它控件</a></li>
							<!-- none,javascript,html,hidden -->

						</ul>
					</div>
				</div>

				<div class="col col-12 col-md-10" style="top:150px;">

					<div class="help-con">
						<div class="card" id="c">
							<div class="card-header">概述</div>
							<div class="card-body">

								<p>系统表单录入页面是根据数据(_dd)表中的控件(editor)和控件值value共同组成的，通过调用时传递参数templid，表单的templid可以自己拟定，但是应该避开像100或1000这样的数字，因为需要预留给列表和详情，系统会找到dd表中特定的templid值的若干条记录，每条记录描述一个控件，不同的页签用group区分开，editor中描述了控件的类型、数据、验证方式等等详细信息，系统需要根据此信息来解析和展示该控件。</p>
								<b>控件的editor配置为josn格式数据，如下所示：</b>
								<p><pre><code>
{
	"type":"控件类型，可以是如下值：text,validatebox,password,maskedbox,numberbox,numberspinner,textarea,wang,md,combobox,combotree,switchbutton,checkbox,datebox,datetimebox,filebox,datagrid,none,javascript,html,hidden",
	"options":{
		"属性":"值..."
	}
}
								</code></pre></p>

							</div>
						</div>
						<!--/card-->

						<div class="card" id="c0">
							<div class="card-header">常用术语</div>
							<div class="card-body">
								<b>1，模块</b>
								<p>通过创建一组相同前缀配置表的方式，定义出一个功能模块，这一组配置表以及配置表中包含的配置数据，被成为软件系统的“模块”，通过点击提前设计好的菜单来打开该功能（模块），在配置表中通过“模块”来区分不同的业务，除了通过配置表前缀，还可以通过web页面请求的的传参（viewName），自定义数据源表中的字段（model）来进行区分这些模块。
								</p>

								<b>2，模版</b>
								<p>一个系统模块中包含有若干个功能，这些功能需要使用不用的表单，不同的处理逻辑，甚至不同的数据源。在配置表中通过模版编号（templid）来区分这些不同的业务逻辑、数据处理展示的方式。
								</p>

								<b>3，表单</b>
								<p>负责数据采集的页面，包含若干输入控件，用于录入和提交数据。</p>

								<b>4，表数据</b>
								<p>列表页面第二行以及往下的内容，以JSON格式的数据提供给web页面展示。其获取脚本配置在`模块编号_dd`表中。</p>

								<b>5，配置表</b>
								<p>配置库中的表。</p>

								<b>6，配置库</b>
								<p>由/opt/workflow.net.cn/config/application.properties配置文件中config.datasource.url指定的数据库。
								</p>
							</div>
						</div>
						<!--/card-->

						<div class="card" id="c1">

							<div class="card-header">单行输入控件</div>

							<div class="card-body">

								<b>text</b>
								<p>单行文本框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"text",
	"options":{
		"required":true 				/*是否必填：是，默认：否*/
	}
}
								</code></pre></p>
								<hr>

								<b>validatebox</b>
								<p>带校验的单行文本框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"validatebox",
	"options":{
		"required":true, 		/*是否必填：是，默认：否*/
		"validType":['length[2,75]'] 	/*文本长度验证：2至75个字符；默认无此校验*/
	}
}
								</code></pre></p>
								<hr>

								<b>password</b>
								<p>密码录入框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"password",
	"options":{
		"required":true, 		/*是否必填：是，默认：否*/
		"validType":['length[2,75]'] 	/*文本长度验证：2至75个字符；默认无此校验*/
	}
}
								</code></pre></p>
								<hr>
								<b>maskedbox</b>
								<p>掩码输入框，可以指定文本的输入格式</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"maskedbox",
	"options":{
		mask: '9999 - 99999999 转 9999'    /*例如：带区号和分机号的电话号码*/
	}
}
								</code></pre></p>
								<hr>

								<b>numberbox</b>
								<p>数字输入框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"numberbox",
	"options":{
		min:0,					/*最小数字*/
		max:1000,				/*最大数字*/
    	precision:2  					/*小数点后两位*/
	}
}
								</code></pre></p>
								<hr>

								<b>numberspinner</b>
								<p>数字选择框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"numberspinner",
	"options":{
		min:0,					/*最小数字*/
		max:1000,				/*最大数字*/
    	editable:false 					/*不可编辑，只能选*/
	}
}
								</code></pre></p>
								<hr>

							</div>
						</div>
						<!--/card-->

						<div class="card" id="c2">

							<div class="card-header">多行输入控件</div>

							<div class="card-body">

								<b>text</b>
								<p>多行输入组件</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"text",
	"options":{
		"multiline":true, 				/*是否多行：是*/
		"height":100					/*控件高度*/
	}
}
								</code></pre></p>
								<hr>

								<b>textarea</b>
								<p>多行输入组件（不用multiline属性）</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"textarea",
	"options":{
		"height":100					/*控件高度*/
	}
}
								</code></pre></p>
								<hr>

								<b>wang</b>
								<p>图文混排组件 wangEditor</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"wang",
	"options":{
		"height":370					/*控件高度*/
	}
}
								</code></pre></p>
								<hr>
<del>
								<b>md</b>
								<p>markdown编辑器（后续支持）</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"md",
	"options":{
		"height":370					/*控件高度*/
	}
}
								</code></pre></p>
								<hr>
</del>

							</div>
						</div>
						<!--/card-->

						<div class="card" id="c3">

							<div class="card-header">选择控件</div>

							<div class="card-body">

								<b>combobox</b>
								<p>下拉列表选择控件</p>
								<b>示例1：</b>
								<p><pre><code>
{
	"type":"combobox",
	"options":
	{
		"editable":true,							/* 控件可以输入文本 */
		"required":true,							/* 控件不能为空 */
		"valueField":"id","textField":"text",					/* 指定值和显示文本的分别使用的字段 */
		"data":[{"id":"1","text":"男"},{"id":"0","text":"女"}]	/* 指定数据 */
	}
}
								</code></pre></p>
								<b>示例2：</b>
								<p><pre><code>
{
	"type":"combobox",
	"options":
	{
		"editable":false,							/* 控件不能录入内容（只能选择） */
		"required":true,							/* 控件不能为空 */
		"valueField":"id","textField":"text",					/* 指定值和显示文本的分别使用的字段 */
		"url": "/list/data/combobox/{模块}?datasrc=dd&templid=99&rows=20"	/* 数据来源于网络，一般配置在DD中，使用sql查询id和text两列数据 数据的格式请参考 示例1 */
	}
}
								</code></pre></p>
								<hr>

								<b>combotree</b>
								<p></p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"combotree",
	"options":
	{
		"editable":false,							/* 控件不能录入内容（只能选择） */
		"required":true,							/* 控件不能为空 */
		"valueField":"id","textField":"text",					/* 指定值和显示文本的分别使用的字段 */
		"url": "/tree/data/{模块}?datasrc=dd&templid={templid}"			/* 数据来源于网络，一般配置在DD中，使用sql查询需要的数据 数据的格式请参考后续章节：tree数据示例 */
	}
}
								</code></pre></p>
								<b>tree数据示例：</b>
								<p><pre><code>
[
	{"id":1,"sort_num":1,"code":"110000","text":"1，一级数据","animate":1,"pid":null,"state":"closed","href":"javascript:void(0)"},
	{"id":2,"sort_num":2,"code":"210000","text":"2，一级数据","animate":1,"pid":null,"state":"closed","href":"javascript:void(0)"},
	{"id":3,"sort_num":3,"code":"310000","text":"3，一级数据","animate":1,"pid":null,"state":"closed","href":"javascript:void(0)"},
]
								</code></pre></p>
								<p>展开树节点会加载下一级别数据，每次接收的${id}都作为pid的条件。</p>
								<hr>

								<b>switchbutton</b>
								<p>开关按钮</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"switchbutton",
	"options":{
		"onText":"开",				/*开启状态显示文本*/
		"offText":"关",				/*关闭状态显示文本*/
		"on": "1",				/*开启状态值*/
		"off": "0",				/*关闭状态值*/
		"onChange":function(on){		/*状态改变时触发*/
			if(on)
			{
				alert("开");
			}
		}
	}
}
								</code></pre></p>
								<hr>
<del>
								<b>checkbox</b>
								<p>多选框控件</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"checkbox",
	"options":{
		"on":1,
		"off":0
	}
}
								</code></pre></p>
								<hr>
</del>
							</div>
						</div>
						<!--/card-->

						<div class="card" id="c4">

							<div class="card-header">日期时间控件</div>

							<div class="card-body">

								<b>datebox</b>
								<p>日期选择框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"datebox",
	"options":{
		 "editable":false,							/* 控件不能录入内容（只能选择） */
		"required":true,							/* 控件不能为空 */
	}
}
								</code></pre></p>
								<hr>

								<b>datetimebox</b>
								<p>日期时间选择框</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"datetimebox",
	"options":{
		 "editable":false,							/* 控件不能录入内容（只能选择） */
		"required":true,							/* 控件不能为空 */
	}
}
								</code></pre></p>
								<hr>

							</div>
						</div>
						<!--/card-->

						<div class="card" id="c5">

							<div class="card-header">附件上传控件</div>

							<div class="card-body">

								<b>filebox</b>
								<p>文件上传控件</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"filebox",
	"options":{
		"accept":"application/vnd.ms-excel" /*指定excel文件格式（*.xls）*/
	}
}
								</code></pre></p>
								<hr>


							</div>
						</div>
						<!--/card-->

						<div class="card" id="c6">

							<div class="card-header">数据网格控件</div>

							<div class="card-body">

								<b>datagrid</b>
								<p>列表组件。</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"datagrid",
	"options":{
		"th":"{模块编码}",		/*使用哪个模块的表头，而数据来源于字段 value 中所存储 sql 查询得到的数据。*/
		"pageSize":10			/*列表默认每页展示的数据行数*/
	}
}
								</code></pre></p>
								<hr>


							</div>
						</div>
						<!--/card-->

						<div class="card" id="c7">

							<div class="card-header">其它控件</div>

							<div class="card-body">

								<b>none</b>
								<p>无类型，此时value中的sql语句执行结果会作为html代码直接显示。</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"none"
}
								</code></pre></p>
								<hr>
								<b>javascript</b>
								<p>js代码，此时value中的可以直接编写javascript代码，该代码会直接在网页运行。</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"javascript"
}
								</code></pre></p>
								<hr>
								<b>html</b>
								<p>html代码，此时value中的可以直接编写html代码，该代码会直接在网页展示。</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"html"
}
								</code></pre></p>
								<hr>
								<b>hidden</b>
								<p>页面会生成一个input隐藏域，此时value中的sql语句执行结果会作为input的值。</p>
								<b>示例：</b>
								<p><pre><code>
{
	"type":"hidden"
}
								</code></pre></p>
								<hr>


							</div>
						</div>
						<!--/card-->











					</div>
					<!--/help-con-->





				</div>

			</div>






		</div>
		<!-- -->
		<div class="container-fluid list03" style="margin-top: 200px;">
			<p class="text-center"><a href="/download.html" class="btn btn-outline-light"><span
						class="glyphicon glyphicon-download mr-10"></span>立即试用最新版本</a></p>
		</div>
		<script src="../static/js/public.js" type="text/javascript" charset="utf-8"></script>
	</body>


</html>